---
import { SITE } from "@config";
import Layout from "@layouts/Layout.astro";
import Main from "@layouts/Main.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";

interface ToolType {
  title: string;
  image: string;
  info: string;
  link: string;
  macos?: string;
  free?: "å…è´¹" | "ä»˜è´¹" | "å¼€æº"; // æ˜ç¡® free çš„ç±»å‹
}

const tools: ToolType[] = [
  {
    title: "Visual Studio Code",
    image: "/tools/vscode.webp",
    info: "ä»£ç ç¼–è¾‘å™¨ï¼Œå¼ºå¤§çš„è·¨å¹³å°ä»£ç ç¼–è¾‘å™¨",
    link: "https://code.visualstudio.com",
    macos: "Windows",
    free: "å¼€æº" // ç¤ºä¾‹
  },
  {
    title: "Obsidian",
    image: "/tools/obsidiannew.webp",
    info: "çŸ¥è¯†ç®¡ç†ç¬”è®°ç±»è½¯ä»¶ï¼Œå†™åšå®¢ä½¿ç”¨ã€‚",
    link: "https://obsidian.md/",
    macos: "Windows",
    free: "å…è´¹" // ç¤ºä¾‹
  },
  {
    title: "Telegram",
    image: "/tools/telegram.webp",
    info: "ä½ æƒ³å…³æ³¨çš„ï¼Œä½ èƒ½æƒ³åˆ°çš„èµ„æºéƒ½æœ‰ã€‚",
    link: "https://telegram.org/",
    macos: "Windows",
    free: "å…è´¹" // ç¤ºä¾‹
  },
  {
    title: "ChatGPT",
    image: "https://r2.xiaoayu.eu.org/2025/01/e83eefef33ceb112db2e6a0629df70f9.webp",
    info: "æœ€å¼ºAIï¼Œç”Ÿæ´»å­¦ä¹ å¤§åˆ©å™¨ã€‚",
    link: "https://chatgpt.com/",
    macos: "Web",
    free: "ä»˜è´¹" // ç¤ºä¾‹
  }
];
---

<Layout title={`æ•ˆç‡å·¥å…·ç®± | ${SITE.title}`}>
  <Header activeNav="tools" />
  <Main pageTitle="æ•ˆç‡å·¥å…·ç®±ğŸ”§" pageDesc="è®©å·¥ä½œäº‹åŠåŠŸå€ã€‚">
    <div class="tools-grid">
      {tools.map(tool => (
        <div class="tool-card">
          <div class="tool-img">
            <a href={tool.link} target="_blank">
              <img src={tool.image} loading="lazy" />
            </a>
          </div>
          
          <div class="tool-content">
            <div class="content-default">
              <h3 class="tool-title">
                <a href={tool.link} target="_blank">{tool.title}</a>
              </h3>
              {tool.macos && <span class="tag">{tool.macos}</span>}
            </div>
            <div class="content-hover">{tool.info}</div>
          </div>

          {tool.free && (
            <div class="tool-free">
              <span class={`tag-free tag-free-${tool.free}`}>{tool.free}</span>
            </div>
          )}
        </div>
      ))}
    </div>
  </Main>
  <Footer />
</Layout>

<style>
.tools-grid {
  display: grid;
  gap: 1rem;
  padding: 1rem;
}

@media (min-width: 768px) {
  .tools-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

.tool-card {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 1rem;
  padding: 1rem;
  background: var(--card-bg);
  border-radius: 0.75rem;
  align-items: center;
  border: 1px solid var(--timeline-border);
  transition: all 0.3s ease;
}

.tool-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.tool-img img {
  width: 80px;
  height: 80px;
  border-radius: var(--radius);
}

.tool-content {
  position: relative;
  overflow: hidden;
}

.content-default,
.content-hover {
  transition: opacity 0.3s ease;
}

.content-hover {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  opacity: 0;
  color: var(--text-secondary);
  font-size: 0.9rem;
}

.tool-card:hover .content-default {
  opacity: 0;
}

.tool-card:hover .content-hover {
  opacity: 1;
}

.tool-title {
  font-size: 0.95rem;
  margin-bottom: 0.5rem;
  font-weight: 600;
}

.tag {
  font-size: 0.75rem;
  color: var(--text-secondary);
}

.tool-free {
  align-self: center;
}

.tag-free {
  font-size: 0.75rem;
  padding: 0.25rem 0.5rem;
  border-radius: 1rem;
  color: white;
}

/* å…è´¹æ ‡ç­¾æ ·å¼ */
.tag-free-å…è´¹ {
  background: #11a173; /* ç»¿è‰² */
}

/* ä»˜è´¹æ ‡ç­¾æ ·å¼ */
.tag-free-ä»˜è´¹ {
  background: #d9534f; /* çº¢è‰² */
}

/* å¼€æºæ ‡ç­¾æ ·å¼ */
.tag-free-å¼€æº {
  background: #5bc0de; /* è“è‰² */
}
</style>