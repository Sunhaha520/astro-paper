---
import { getCollection } from "astro:content";
import { SITE } from "@config";
import Layout from "@layouts/Layout.astro";
import Main from "@layouts/Main.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import getSortedPosts from "@utils/getSortedPosts";

// Retrieve all published articles
const posts = await getCollection("blog", ({ data }) => !data.draft);
const sortedPosts = getSortedPosts(posts);

// List of items to search in
const searchList = sortedPosts.map(({ data, slug }) => ({
  title: data.title,
  description: data.description,
  data,
  slug,
}));

// Device data
interface DeviceType {
    name: string;
    img: string;
    description: string;
}

const devices: DeviceType[] = [
    {
        name: "é­…æ—21NOTE",
        img: "https://cdn.dribbble.com/userupload/16336463/file/original-fdad7561b84872f7e5e8b8175b18f75e.webp",
        description: "æ–°æ‰‹æœºï¼Œç¬¬ä¸€æ¬¡ç”¨é­…æ—ï¼Œä½“éªŒäº†ä¸€æŠŠFlymeã€‚"
    },
    {
        name: "å°ç±³ 12X",
        img: "https://cdn.dribbble.com/userupload/15094426/file/original-432a42e3f5a630933b111435d9c67dad.webp",
        description: "å¥½ç”¨ï¼Œå°å·§æ¬¡æ——èˆ°ï¼Œå°å›¢å­é€æˆ‘çš„ï¼æˆ‘è¦ç”¨å¥½ä¹…ï¼"
    },
    {
        name: "è£è€€æ‰‹ç¯6",
        img: "https://cdn.dribbble.com/userupload/15094424/file/original-c03f30e13315da6dfae2e2f88fccd4b0.webp",
        description: "è®¡æ­¥ï¼Œè¡€æ°§ï¼Œç¡çœ ï¼ŒNFC é€šé€šéƒ½æœ‰ï¼Œè¡¨ç›˜æ¼‚äº®ã€‚"
    },
    {
        name: "æ¾ä¸‹GF3å¾®å•",
        img: "https://cdn.dribbble.com/userupload/15094425/file/original-e4b370e78273f6f7aed98b4123bd2be3.webp",
        description: "è™½è€ï¼Œä½†æ˜¯æ‹ç…§ä¾æ—§å¼ºåŠ²ï¼Œé…äº†ä¸ªå°èšé•œå¤´ï¼Œæ‹äººå¾ˆä¸é”™ã€‚"
    },
    {
        name: "AirPods(ç¬¬3ä»£)",
        img: "https://cdn.dribbble.com/userupload/15094421/file/original-18b74d7d757dc743d25e419898dc6045.webp",
        description: "å°å›¢å­ä¹°çš„ï¼Œæˆ‘ç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œåæ¥å¥¹æŠ¢èµ°äº†ã€‚"
    },
    {
        name: "RK-61æœºæ¢°é”®ç›˜",
        img: "https://cdn.dribbble.com/userupload/15094422/file/original-c180a9d6d0044a50044358847fa1d2fa.webp",
        description: "æˆ‘å¯¹é”®ç›˜æ²¡éœ€æ±‚ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œäº¬ä¸œç¾Šæ¯›19å…ƒåˆ°æ‰‹ã€‚"
    },
    {
        name: "AirPods(ç¬¬1ä»£)",
        img: "https://cdn.dribbble.com/userupload/15094418/file/original-da8319f445496eef2a21967d7c9c48a9.webp",
        description: "ä¹°æ¥ç»™å°å›¢å­è€ƒç ”ç”¨çš„ï¼Œæœ€åå¥¹ç”¨è…»äº†å’Œæˆ‘æ¢äº†ã€‚"
    },
    {
        name: "åä¸ºMatebook14",
        img: "https://cdn.dribbble.com/userupload/15094415/file/original-e6544dc51e0dc75e3d437b77bfb5272e.webp",
        description: "é¢œå€¼å¯ä»¥ï¼Œä¸€ç›´åœ¨ç”¨ï¼Œè£…äº†ä¸‰ç³»ç»Ÿã€‚"
    },
    {
        name: "iPhone Xr",
        img: "https://cdn.dribbble.com/userupload/15094420/file/original-a85967e61e4023b0884c0c725757b7ad.webp",
        description: "ä¸Šå¤§å­¦çˆ¶æ¯ç»™ä¹°çš„ï¼Œç°åœ¨é€€å½¹ï¼Œæˆ‘çˆ¸åœ¨ç”¨ã€‚"
    },
    {
        name: "iPad 2018",
        img: "https://cdn.dribbble.com/userupload/15094419/file/original-dc185cb739fa8d34d433f99754358073.webp",
        description: "ä¹°çš„äºŒæ‰‹ï¼Œé™ªä¼´æˆ‘åº¦è¿‡å¤§å­¦å‡ å¹´ï¼ŒåšæŒºåˆ°ç°åœ¨ã€‚"
    },
    {
        name: "çº¢ç±³ Bud4",
        img: "https://cdn.dribbble.com/userupload/15094413/file/original-8619e8607023c0eaff04596c5bdd8576.webp",
        description: "æ€§ä»·æ¯”ä¸é”™ï¼Œæœ‰é™å™ªï¼Œä¹Ÿå°å·§ï¼Œå°±æ˜¯è€³æœµå¸¦ä¹…äº†ä¼šç–¼ã€‚"
    },
    {
        name: "å°çˆ±è§¦å±éŸ³å“",
        img: "https://cdn.dribbble.com/userupload/15094423/file/original-a33c3e2e35d3078fc216eb5e4f5131b4.webp",
        description: "å¹³æ—¶å¬å¬æ­ŒæŒºå¥½çš„ï¼Œä¹Ÿæ˜¯ä¸ªä¸é”™çš„å¤©æ°”åŠ©æ‰‹å’Œé—¹é’Ÿã€‚"
    },
    {
        name: "è”æƒ³X4 éª¨ä¼ å¯¼è€³æœº",
        img: "https://cdn.dribbble.com/userupload/15094414/file/original-b86a81a9eb3ecdd9b4c0cdbf1d83b73b.webp",
        description: "ä¹‹å‰è€³æœµå‘ç‚ï¼Œä¹°äº†å®ƒï¼Œç¡®å®æœ‰ç”¨ï¼Œè¿åŠ¨å‡ºé—¨å¸¦ç€æ–¹ä¾¿"
    },
    {
        name: "å£è¢‹é˜…(1ä»£)",
        img: "https://cdn.dribbble.com/userupload/15094417/file/original-931f450398ea5ad9e91e745b9c1814ba.webp",
        description: "æŠ¤çœ¼ä¾¿æºï¼Œè¿˜èƒ½æ‰“ç”µè¯ï¼Œç»­èˆªæŒä¹…ï¼Œçœ‹ä¹¦ç¥å™¨ã€‚"
    },
    {
        name: "Google Pixel3",
        img: "https://cdn.dribbble.com/userupload/15094416/file/original-5068b9d4dbf553adb32ba3e9be2c690c.webp",
        description: "ä½“éªŒè°·æ­Œäº²å„¿å­ï¼Œæœ€å¼ºå•æ‘„ï¼Œå’¸é±¼ä¹°çš„ã€‚"
    },
    // æ·»åŠ æ›´å¤šè®¾å¤‡ä¿¡æ¯
];
---

<Layout title={`Devices | ${SITE.title}`}>
  <Header activeNav="devices" />
  <Main pageTitle="æˆ‘çš„è£…å¤‡ğŸ“±" pageDesc="æŸ¥çœ‹æˆ‘çš„æ‰€æœ‰è£…å¤‡ ...">
    <div class="grid grid-cols-2 gap-4 my-6 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3">
      {devices.map((device) => (
        <div class="transition duration-200 ease-in-out transform shadow-lg rounded-lg hover:scale-105 dark:bg-true-gray-800 border border-gray-200 dark:border-true-gray-700">
          <div class="relative w-full bg-true-gray-0 rounded-t-lg overflow-hidden dark:bg-true-gray-900"
               style="aspect-ratio: 16 / 9; min-height: 168px;">
            <!-- åŠ è½½åŠ¨ç”» -->
            <div class="loader flex justify-center items-center absolute inset-0">
              <div class="spinner"></div>
            </div>
            <!-- å›¾ç‰‡ -->
            <img src={device.img} alt={device.name} class="object-cover w-full h-full hidden"
                 width="300" height="168" loading="lazy" onload="this.style.display = 'block'; this.previousElementSibling.style.display = 'none';" />
          </div>
          <div class="flex flex-col items-center justify-between h-full p-4">
            <div class="text-center">
              <p class="leading-4 dark:text-white">{device.name}</p>
              <div class="mt-2 text-xs text-true-gray-400 dark:text-true-gray-300 whitespace-normal break-words">
                {device.description}
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </Main>
  <Footer />
  
  <!-- æ•´åˆçš„CSS -->
  <style>
    /* å®šä¹‰æ—‹è½¬åŠ è½½åŠ¨ç”» */
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loader {
      background-color: rgba(255, 255, 255, 0.1); /* åŠé€æ˜èƒŒæ™¯ï¼Œè¦†ç›–åœ¨å›¾ç‰‡ä¸Š */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .spinner {
      border: 4px solid rgba(0, 0, 0, 0.1); /* è¾¹æ¡† */
      border-top: 4px solid #3498db; /* è“è‰²éƒ¨åˆ† */
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite; /* æ—‹è½¬æ•ˆæœ */
    }
  </style>
</Layout>
